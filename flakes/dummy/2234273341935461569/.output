"use std::io::{Read, Write};\n\nuse flakes::*;\n\nstruct Dummy;\n\nimpl Builder for Dummy {\n    fn build(source: impl Read, input: &serde_json::Value, store: &mut Store<Single, Self>) -> std::io::Result<serde_json::Value> {\n        let mut buf = String::new();\n        store.open_file(\"./src/main.rs\")?.read_to_string(&mut buf)?;\n        store.create_file(\"output\")?.write(b\"Hello, world!\")?;\n        Ok(serde_json::Value::String(buf))\n    }\n}\n\nfn main() -> Result<(), std::io::Error> {\n    let store = store::<Dummy>();\n    let input = serde_json::json!({\"a\":2});\n    let (path, output) = store.create(\"dummy\", \"Hello, world!\".as_bytes(), &input)?;\n    println!(\"{}\", serde_json::to_string_pretty(&output)?);\n    Ok(())\n}\n"